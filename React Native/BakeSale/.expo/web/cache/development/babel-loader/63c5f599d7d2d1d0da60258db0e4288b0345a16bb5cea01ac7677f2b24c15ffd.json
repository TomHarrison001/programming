{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ajax from \"./ajax\";\nimport DealList from \"./DealList\";\nimport DealDetail from \"./DealDetail\";\nimport SearchBar from \"./SearchBar\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n  var _super = _createSuper(App);\n  function App() {\n    var _this;\n    _classCallCheck(this, App);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.titleXPos = new Animated.Value(0);\n    _this.state = {\n      deals: [],\n      dealsFromSearch: [],\n      currentDealId: null,\n      activeSearchTerm: \"\"\n    };\n    _this.animateTitle = function () {\n      var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var width = Dimensions.get(\"window\").width - 150;\n      Animated.timing(_this.titleXPos, {\n        toValue: direction * width / 2,\n        duration: 1000,\n        easing: Easing.linear\n      }).start(function (_ref) {\n        var finished = _ref.finished;\n        if (finished) {\n          _this.animateTitle(-1 * direction);\n        }\n      });\n    };\n    _this.searchDeals = function () {\n      var _ref2 = _asyncToGenerator(function* (searchTerm) {\n        var dealsFromSearch = [];\n        if (searchTerm) {\n          dealsFromSearch = yield ajax.fetchDealsSearchResults(searchTerm);\n        }\n        _this.setState({\n          dealsFromSearch: dealsFromSearch,\n          activeSearchTerm: searchTerm\n        });\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    _this.setCurrentDeal = function (dealId) {\n      _this.setState({\n        currentDealId: dealId\n      });\n    };\n    _this.unsetCurrentDeal = function () {\n      _this.setState({\n        currentDealId: null\n      });\n    };\n    _this.currentDeal = function () {\n      return _this.state.deals.find(function (deal) {\n        return deal.key === _this.state.currentDealId;\n      });\n    };\n    return _this;\n  }\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(function* () {\n        this.animateTitle();\n        var deals = yield ajax.fetchInitialDeals();\n        this.setState({\n          deals: deals\n        });\n      });\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.currentDealId) {\n        return _jsx(View, {\n          style: styles.main,\n          children: _jsx(DealDetail, {\n            initialDealData: this.currentDeal(),\n            onBack: this.unsetCurrentDeal\n          })\n        });\n      }\n      var dealsToDisplay = this.state.dealsFromSearch.length > 0 ? this.state.dealsFromSearch : this.state.deals;\n      if (dealsToDisplay.length > 0) {\n        return _jsxs(View, {\n          style: styles.main,\n          children: [_jsx(SearchBar, {\n            searchDeals: this.searchDeals,\n            initialSearchTerm: this.state.activeSearchTerm\n          }), _jsx(DealList, {\n            deals: dealsToDisplay,\n            onItemPress: this.setCurrentDeal\n          })]\n        });\n      }\n      return _jsx(Animated.View, {\n        style: [{\n          left: this.titleXPos\n        }, styles.container],\n        children: _jsx(Text, {\n          style: styles.header,\n          children: \"Bakesale\"\n        })\n      });\n    }\n  }]);\n  return App;\n}(React.Component);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  main: {\n    marginTop: 30\n  },\n  header: {\n    fontSize: 40\n  }\n});\nexport default App;","map":{"version":3,"names":["React","View","Text","StyleSheet","Animated","Easing","Dimensions","ajax","DealList","DealDetail","SearchBar","jsx","_jsx","jsxs","_jsxs","App","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","titleXPos","Value","state","deals","dealsFromSearch","currentDealId","activeSearchTerm","animateTitle","direction","undefined","width","get","timing","toValue","duration","easing","linear","start","_ref","finished","searchDeals","_ref2","_asyncToGenerator","searchTerm","fetchDealsSearchResults","setState","_x","setCurrentDeal","dealId","unsetCurrentDeal","currentDeal","find","deal","key","_createClass","value","_componentDidMount","fetchInitialDeals","componentDidMount","render","style","styles","main","children","initialDealData","onBack","dealsToDisplay","initialSearchTerm","onItemPress","left","container","header","Component","create","flex","alignItems","justifyContent","marginTop","fontSize"],"sources":["D:/Homework/Languages and Frameworks/React Native/BakeSale/App.js"],"sourcesContent":["import React from \"react\";\n\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Animated,\n  Easing,\n  Dimensions,\n} from \"react-native\";\nimport ajax from \"./ajax\";\nimport DealList from \"./DealList\";\nimport DealDetail from \"./DealDetail\";\nimport SearchBar from \"./SearchBar\";\n\nclass App extends React.Component {\n  titleXPos = new Animated.Value(0);\n  state = {\n    deals: [],\n    dealsFromSearch: [],\n    currentDealId: null,\n    activeSearchTerm: \"\",\n  };\n  animateTitle = (direction = 1) => {\n    const width = Dimensions.get(\"window\").width - 150;\n    Animated.timing(this.titleXPos, {\n      toValue: (direction * width) / 2,\n      duration: 1000,\n      easing: Easing.linear,\n    }).start(({ finished }) => {\n      if (finished) {\n        this.animateTitle(-1 * direction);\n      }\n    });\n  };\n  async componentDidMount() {\n    this.animateTitle();\n    const deals = await ajax.fetchInitialDeals();\n    this.setState({ deals });\n  }\n  searchDeals = async (searchTerm) => {\n    let dealsFromSearch = [];\n    if (searchTerm) {\n      dealsFromSearch = await ajax.fetchDealsSearchResults(searchTerm);\n    }\n    this.setState({ dealsFromSearch, activeSearchTerm: searchTerm });\n  };\n  setCurrentDeal = (dealId) => {\n    this.setState({\n      currentDealId: dealId,\n    });\n  };\n  unsetCurrentDeal = () => {\n    this.setState({\n      currentDealId: null,\n    });\n  };\n  currentDeal = () => {\n    return this.state.deals.find(\n      (deal) => deal.key === this.state.currentDealId\n    );\n  };\n  render() {\n    if (this.state.currentDealId) {\n      return (\n        <View style={styles.main}>\n          <DealDetail\n            initialDealData={this.currentDeal()}\n            onBack={this.unsetCurrentDeal}\n          />\n        </View>\n      );\n    }\n    const dealsToDisplay =\n      this.state.dealsFromSearch.length > 0\n        ? this.state.dealsFromSearch\n        : this.state.deals;\n    if (dealsToDisplay.length > 0) {\n      return (\n        <View style={styles.main}>\n          <SearchBar\n            searchDeals={this.searchDeals}\n            initialSearchTerm={this.state.activeSearchTerm}\n          />\n          <DealList deals={dealsToDisplay} onItemPress={this.setCurrentDeal} />\n        </View>\n      );\n    }\n    return (\n      <Animated.View style={[{ left: this.titleXPos }, styles.container]}>\n        <Text style={styles.header}>Bakesale</Text>\n      </Animated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  main: {\n    marginTop: 30,\n  },\n  header: {\n    fontSize: 40,\n  },\n});\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}